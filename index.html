<!DOCTYPE html>
<html>

<head>
    <title>Molar H/C Molar Ratio Calculator</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: #f2f2f2;
            text-align: center;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #333;
            font-size: 20px;
            margin-bottom: 15px;
        }

        input,
        select {
            display: block;
            margin: 10px auto;
            text-align: center;
            width: 50%;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }

        /* Remove spin buttons from number inputs */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            appearance: none;
            margin: 0;
        }

        .time-input {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .btn-container {
            display: flex;
            justify-content: center;
            margin-top: 50px;
            margin-bottom: 20px;
        }

        button {
            padding: 10px 20px;
            background-color: #007BFF;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        #result {
            margin-top: 20px;
            white-space: pre-line;
        }

        #logo {
            width: 250px;
            margin: 20px 0;
        }

        #biomassType {
            width: 52%;
            /* You can adjust the width as needed */
        }

        .formula {
            font-style: italic;
            font-size: 16px;
            font-family: "Times New Roman", Times, serif;
            text-align: center;
            margin-bottom: 20px;
        }

        .formula {
            font-style: italic;
            font-size: 16px;
            font-family: "Times New Roman", Times, serif;
            text-align: center;
            margin-bottom: 30px;
        }

        .formula p {
            margin: 0;
        }

        .fraction {
            display: inline-block;
        }

        .numerator {
            text-align: center;
            border-bottom: 1px solid black;
            padding: 5px;
        }

        .denominator {
            text-align: center;
            padding: 5px;
        }

        .block-text {
            text-align: justify;
            text-justify: inter-word;
        }

        .language-buttons {
            position: absolute;
            top: 10px;
            right: 10px;
        }
    </style>
</head>

<body>

    <div class="language-buttons">
        <button onclick="setLanguage('en')">English</button>
        <button onclick="setLanguage('es')">Espa√±ol</button>
    </div>

    <div class="container">
        <!-- Display the logo image -->
        <img id="logo" src="logo.png" alt="General Biochar Systems Logo">

        <h1 style="font-size: 25px; margin-bottom: 30px;">H/C Molar Ratio Estimator</h1>

        <p class="block-text" style="margin-bottom: 20px;">
            In the world of biochar, a comprehensive understanding of the quality and characteristics of this
            carbon-rich material is essential for its diverse applications. One crucial indicator of biochar quality is
            the Molar H/C ratio, which reflects the proportion of hydrogen to carbon in the organic fraction of biochar.
            This ratio is pivotal in assessing biochar's composition and, consequently, its suitability for various
            uses.
        </p>

        <p class="block-text">
            A higher H/C ratio indicates greater reactivity and potential as an energy source, making it an excellent
            choice for applications like soil enhancement. Conversely, a lower ratio suggests enhanced stability, making
            it a preferred candidate for carbon sequestration. Understanding the Molar H/C ratio empowers biochar
            enthusiasts and environmentalists to make well-informed decisions on how to harness the unique benefits of
            this eco-friendly resource for sustainable farming, carbon storage, and more.
        </p>

        <p class="block-text">
            <strong>DISCLAIMER:</strong> This calculator provides estimates for the H/C molar ratio, which can be useful
            for general assessment. However, it's important to note that the most accurate determination of the
            hydrogen-to-carbon ratio for biochar requires the measurement of the total organic carbon. In this case, we
            are accounting for total carbon, not organic carbon.
        </p>
        <p class="block-text" style="margin-bottom: 50px;">
        </p>


        <div class="formula">
            <h2 style="font-size: 20px; margin-bottom: 10px; font-style: normal;">Formula</h2>
            <p>
                ùêª/ùê∂</sub> / (ùëöùëúùëôùëéùëü) = (H total(%) / C total(%)) / 12
            </p>
            <p style="margin-top: 20px;">
                <a href="https://puro.earth/articles/puro-standard-biochar-methodology-edition-2022-is-out-now-743"
                    target="_blank">
                    Reference
                    <div style="margin-bottom: 35px;"></div>
                </a>
            </p>
        </div>

        <label for="hydrogen">Enter the total amount of hydrogen:</label>
        <input type="number" id="hydrogen" placeholder="Total Hydrogen in %">

        <label for="carbon">Enter the total amount of carbon:</label>
        <input type="number" id="carbon" placeholder="Total Carbon in %">

        <!-- Additional input fields -->
        <label for="biomassType">Biomass Type:</label>
        <select id="biomassType" name="biomassType" style="width: 52%;" onchange="checkBiomassType()">
            <option value="" selected disabled>Select</option>
            <option value="Agave bagasse">Agave bagasse</option>
            <option value="Corn stubble">Corn stubble</option>
            <option value="Wood">Wood</option>
            <option value="Sugar cane">Sugar cane</option>
            <option value="Manure">Manure</option>
            <option value="Bamboo">Bamboo</option>
            <option value="Agricultural waste">Agricultural waste</option>
            <option value="Urban green waste">Urban green waste</option>
            <option value="Blend">Blend</option>
            <option value="Other biomass">Other biomass</option>
        </select>

        <div id="customBiomassInput" style="display: none;">
            <input type="text" id="customBiomass" name="customBiomass" placeholder="Enter custom biomass type">
        </div>

        <div id="BlendBiomassInput" style="display: none;">
            <input type="text" id="BlendBiomass" name="BlendBiomass" placeholder="Enter custom biomass blend">
        </div>

        <label for="temperature">Pyrolysis Temperature:</label>
        <input type="number" id="temperature" placeholder="Pyrolysis (¬∞C)">

        <label for="residenceMinutes">Residence Time:</label>
        <div class="time-input" style="margin: 0 auto;">
            <input type="number" id="residenceMinutes" placeholder="Minutes" min="0">
        </div>

        <label for="sampleDate">Sample Date:</label>
        <input type="date" id="sampleDate">

        <label for="lotNumber">Lot Number:</label>
        <input type="text" id="lotNumber" placeholder="Lot Number">

        <label for="productionDate">Production Date:</label>
        <input type="date" id="productionDate" placeholder="Production Date">

        <label for="sampleSize">Sample Size:</label>
        <input type="number" id="sampleSize" placeholder="Sample Size (kg)">

        <div class="btn-container">
            <button onclick="calculateMolarRatio()">Calculate Molar Ratio</button>
            <div style="margin: 10px;"></div>
            <button onclick="downloadAsText()">Download as Text</button>
        </div>

        <p id="result"></p>
    </div>

    <script>
        function checkBiomassType() {
            var biomassSelect = document.getElementById("biomassType");
            var customBiomassInput = document.getElementById("customBiomassInput");
            var blendBiomassInput = document.getElementById("BlendBiomassInput");

            if (biomassSelect.value === "Other biomass") {
                customBiomassInput.style.display = "block";
                blendBiomassInput.style display = "none";
            } else if (biomassSelect.value === "Blend") {
                customBiomassInput.style.display = "none";
                blendBiomassInput.style.display = "block";
            } else {
                customBiomassInput.style.display = "none";
                blendBiomassInput.style.display = "none";
                // Clear any previously entered custom or blend biomass
                document.getElementById("customBiomass").value = "";
                document.getElementById("BlendBiomass").value = "";
            }
        }
    </script>


    <script>
        function calculateMolarRatio() {
            // Get the values of the input fields
            var hydrogen = parseFloat(document.getElementById("hydrogen").value);
            var carbon = parseFloat(document.getElementById("carbon").value);
            var biomassSelect = document.getElementById("biomassType");
            var biomassType = biomassSelect.value === "Other biomass"
                ? document.getElementById("customBiomass").value // Use custom biomass if selected
                : biomassSelect.value; // Use the selected value from the dropdown
            var temperature = parseFloat(document.getElementById("temperature").value);
            var residenceMinutes = parseInt(document.getElementById("residenceMinutes").value);
            var sampleDate = document.getElementById("sampleDate").value;
            var lotNumber = document.getElementById("lotNumber").value;
            var productionDate = document.getElementById("productionDate").value;
            var sampleSize = parseFloat(document.getElementById("sampleSize").value);
            var blendBiomass = document.getElementById("BlendBiomass").value; // Get custom blend input value

            // Initialize the error flag
            var hasError = false;

            // Check if the input is valid for hydrogen and carbon ratios
            if (isNaN(hydrogen) || isNaN(carbon) || carbon === 0) {
                document.getElementById("result").textContent = "Please enter valid numbers for hydrogen and carbon ratios. Carbon cannot be zero.";
                hasError = true;
            }

            // If there is no error, perform the calculation and display the result
            if (!hasError) {
                // Calculate the Molar H/C Ratio with 5 decimal places
                var molarRatio = (hydrogen / carbon) * 12;

                // Prepare the result message
                var resultMessage = "Molar H/C Ratio: " + molarRatio.toFixed(5) + "\n";

                // Display input values with labels if specified, otherwise display a blank field
                if (biomassType) {
                    if (biomassSelect.value === "Blend") {
                        resultMessage += "Biomass Type: " + blendBiomass + "\n";
                    } else {
                        resultMessage += "Biomass Type: " + biomassType + "\n";
                    }
                }
                if (!isNaN(temperature)) {
                    resultMessage += "Temperature: " + temperature + "¬∞C\n";
                }
                if (!isNaN(residenceMinutes)) {
                    resultMessage += "Residence Time: " + residenceMinutes + " minutes\n";
                }
                if (sampleDate) {
                    resultMessage += "Sample Date: " + sampleDate + "\n";
                }
                if (lotNumber) {
                    resultMessage += "Lot Number: " + lotNumber + "\n";
                }
                if (productionDate) {
                    resultMessage += "Production Date: " + productionDate + "\n";
                }
                if (!isNaN(sampleSize)) {
                    resultMessage += "Sample Size: " + sampleSize + " kg\n";
                }

                // Display the result
                document.getElementById("result").textContent = resultMessage;
            }
        }

        function downloadAsText() {
            // Get the result text
            var resultText = document.getElementById("result").textContent;

            // Create a blob with the text content
            var blob = new Blob([resultText], { type: "text/plain" });

            // Create a temporary URL for the blob
            var url = window.URL.createObjectURL(blob);

            // Create a temporary link element to trigger the download
            var a = document.createElement("a");
            a.href = url;
            a.download = "molar_ratio.txt";

            // Trigger a click event to download the file
            a.click();

            // Release the allocated resources
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>

</html>
